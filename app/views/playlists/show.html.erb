<!--
PLAYLIST DETAIL VIEW
-->

<%= render "shared/detail_header", image: @playlist.cover_image.url, title: @playlist.title, description: @playlist.description %>

<div class="playlist detail">

  <div class="row">

    <!-- Metadata -->
    <div class="col-md-6">

      <!-- Game Description -->
      <div class="detail-description">
        <%= simple_format(@playlist.description) %>

        <!-- Edit Buttons -->
        <div class="detail-edit-buttons">
            <%= render "edit_buttons", playlist: @playlist %>
        </div>
      </div>

      <hr />

      <h4>
        Creator
      </h4>

      <div class="clearfix">
        <%= render "shared/item_cards_square",
          itemName: @playlist.user.name,
          itemInfo: "",
          itemLink: user_url(@playlist.user),
          itemImageURL: @playlist.user.gravatar_url
        %>
      </div>

    </div>


    <!-- Games Listing -->
    <div class="col-md-6">

      <h4>Games</h4>
      <% @playlist.games.each do |game| %>
        <% listing = Listing.find_by(game: game, playlist: @playlist) %>

        <%=
          render "shared/item_cards_wide",
          itemName: game.title,
          itemInfo: "",
          itemLink: game_url(game),
          itemImageURL: game.images.first&.url || asset_url("rocket-ship")
        %>
        
      <% end %>
    </div>



  </div>

</div>
